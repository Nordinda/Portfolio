---
import "@fontsource-variable/onest";
import Header from "@/components/Header.astro";
import { getLangFromUrl } from "@/i18n/utils";

interface Props {
	title: string;
	description: string;
}

const { title, description } = Astro.props;

const lang = getLangFromUrl(Astro.url);
---

<!doctype html>
<html lang={lang}>
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content={description} />
		<meta name="viewport" content="width=device-width" />
		<meta name="theme-color" content="#7877c6" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<!-- Open Graph -->
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:image" content="/images/og-image.webp" />
		<meta
			property="og:image:alt"
			content="Noureddine's Portfolio"
		/>

		<title>{title}</title>
	</head>
	<body>
    
    <div class="particles"></div>

		<!-- Background -->
		<div 
			class="fixed top-0 bottom-0 z-[-10] min-h-screen w-full bg-neutral-950
            bg-[radial-gradient(ellipse_80%_80%_at_50%_-20%,rgba(49,46,129,0.3),rgba(139,92,246,0.3),rgba(255,182,193,0))]"
		>
		</div>
		<Header />
		<slot />
	</body>
</html>

<style is:global>
/* ====================================
   MOBILE FIXES FÜR DEIN PORTFOLIO
   ==================================== */

/* 1. GLOBALE FIXES - Verhindert seitliches Scrollen */
html, body {
  overflow-x: hidden;
  width: 100%;
  max-width: 100vw;
}

* {
  box-sizing: border-box;
}

/* ====================================
   2. HERO SECTION - Bild & Text Fix
   ==================================== */

@media (max-width: 768px) {
  /* Hero Container - Stack auf Mobile */
  .max-w-6xl > div:first-child {
    flex-direction: column !important;
    align-items: center !important;
    text-align: center !important;
    gap: 2rem !important;
  }

  /* Text-Bereich - Volle Breite & Zentriert */
  .max-w-6xl .flex-1 {
    max-width: 100% !important;
    width: 100% !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
  }

  /* Überschriften kleiner */
  .max-w-6xl h1 {
    font-size: 2rem !important; /* 32px */
    text-align: center !important;
  }

  .max-w-6xl h2 {
    font-size: 1.25rem !important; /* 20px */
    text-align: center !important;
  }

  .max-w-6xl h2 span {
    font-size: 1.5rem !important; /* 24px */
  }

  /* Social Buttons Container - KRITISCHER FIX */
  .max-w-6xl .flex-1 nav {
    justify-content: center !important;
    width: 100% !important;
    background: transparent !important;
    backdrop-filter: none !important;
    box-shadow: none !important;
    border: none !important;
    padding: 0 !important;
  }

  /* Sicherstellen dass keine Header-Nav Styles übernommen werden */
  .max-w-6xl nav:not(header nav) {
    background: transparent !important;
    backdrop-filter: none !important;
    border-radius: 0 !important;
    box-shadow: none !important;
  }

  /* Social Pills - NUR NAV Container, nicht die Links selbst */
  /* ENTFERNT: Keine Background Overrides mehr für die Buttons */

  /* Bild-Container */
  .max-w-6xl .animate-fade-in-right {
    margin-left: 0 !important;
    width: 100% !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
  }

  /* Bild selbst - größer auf Mobile */
  .max-w-6xl img {
    width: 200px !important;
    height: 200px !important;
    margin: 0 auto !important;
  }

  /* Badge zentrieren */
  .max-w-6xl .animate-fade-in-right a {
    margin: 0 auto !important;
  }
}

/* ====================================
   3. ANIMATIONEN AUF MOBILE DEAKTIVIEREN
   ==================================== */



/* ====================================
   4. EXPERIENCE TIMELINE MOBILE
   ==================================== */

@media (max-width: 1024px) {
  /* Timeline vertikal stacken */
  ol.relative li {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 1rem !important;
    padding-left: 2rem !important;
    margin-bottom: 3rem !important;
  }

  /* Timeline Linie links */
  ol.relative > div {
    left: 0.5rem !important;
    transform: none !important;
  }

  /* Alle Bereiche volle Breite */
  ol.relative li > div {
    width: 100% !important;
    text-align: left !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  /* Dot Position anpassen */
  ol.relative li > div.relative {
    position: absolute !important;
    left: 0 !important;
  }

  /* Content Bereich */
  ol.relative li > div:last-child {
    padding-left: 0 !important;
  }
}

/* ====================================
   5. PROJECTS SECTION MOBILE
   ==================================== */

@media (max-width: 1024px) {
  /* Projekt Container */
  .space-y-10 article > div {
    flex-direction: column !important;
    padding: 1rem !important;
  }

  /* Bild & Text volle Breite */
  .space-y-10 .lg\\:w-\\[55\\%\\],
  .space-y-10 .lg\\:w-\\[45\\%\\] {
    width: 100% !important;
    max-width: 100% !important;
  }

  /* Projekt-Titel kleiner */
  .space-y-10 h3 {
    font-size: 1.75rem !important; /* 28px */
    text-align: center !important;
  }

  /* Tags zentrieren */
  .space-y-10 .flex-wrap {
    justify-content: center !important;
  }

  /* Description zentrieren */
  .space-y-10 p {
    text-align: center !important;
  }

  /* GitHub Button zentrieren */
  .space-y-10 a.inline-flex {
    margin-left: auto !important;
    margin-right: auto !important;
  }
}

/* ====================================
   6. TECH STACK CAROUSEL MOBILE
   ==================================== */

@media (max-width: 768px) {
  /* Container Padding */
  section.relative.overflow-hidden .mx-auto {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }

  /* Carousel Items kleiner */
  .carousel-item {
    width: 5rem !important; /* 80px statt 112px */
  }

  /* Carousel langsamer */
  .carousel-track {
    animation-duration: 20s !important;
  }

  /* Gradients schmaler */
  section.relative.overflow-hidden .absolute.w-20 {
    width: 3rem !important;
  }

  /* Hint Text kleiner */
  section.relative.overflow-hidden p {
    font-size: 0.75rem !important;
  }
}

/* ====================================
   7. HEADER/NAVIGATION MOBILE
   ==================================== */

@media (max-width: 768px) {
  /* Header - Flex Layout */
  header {
    padding: 0.75rem 1rem !important;
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
  }

  /* Nav - kompakt & zentriert */
  header nav {
    position: static !important;
    display: flex !important;
    justify-content: center !important;
    gap: 0.75rem !important;
    padding: 0 !important;
    width: auto !important;
    flex: 1 !important;
  }

  /* Nav Links - kompakter */
  header .nav-link {
    font-size: 0.8rem !important;
    padding: 0.5rem 0.75rem !important;
    white-space: nowrap !important;
  }

  /* Underline schmaler */
  header .nav-link div {
    height: 2px !important;
  }

  /* Language Picker - statisch rechts */
  header > *:last-child {
    position: static !important;
    font-size: 0.875rem !important;
    flex-shrink: 0 !important;
    margin-left: 0.5rem !important;
  }
}

/* Für sehr kleine Screens (unter 640px) */
@media (max-width: 640px) {
  header {
    padding: 0.5rem 0.75rem !important;
  }

  header nav {
    gap: 0.5rem !important;
  }

  header .nav-link {
    font-size: 0.7rem !important;
    padding: 0.5rem !important;
  }

  /* Nav-Schatten früher aktivieren */
  nav {
    backdrop-filter: blur(12px) !important;
    background: rgba(255, 255, 255, 0.1) !important;
    border-radius: 12px !important;
  }
}

/* Alternative: Hamburger Menu für sehr kleine Screens */
@media (max-width: 480px) {
  header nav {
    gap: 0.25rem !important;
  }

  header .nav-link {
    font-size: 0.65rem !important;
    padding: 0.4rem 0.5rem !important;
  }
}

/* ====================================
   8. SPACING & PADDING GLOBAL
   ==================================== */

@media (max-width: 640px) {
  /* Sections weniger Padding - REDUZIERT */
  section {
    padding-top: 1rem !important; /* Vorher 2rem */
    padding-bottom: 1rem !important; /* Vorher 2rem */
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }

  /* Margin zwischen Sections auch reduzieren */
  section + section {
    margin-top: 0.5rem !important;
  }

  /* Container Max-Width */
  .max-w-6xl,
  .max-w-5xl,
  .max-w-3xl {
    max-width: 100% !important;
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }

  /* Gaps reduzieren */
  .gap-8,
  .gap-10,
  .gap-12 {
    gap: 1rem !important;
  }

  /* Margins reduzieren */
  .mb-10 {
    margin-bottom: 1rem !important; /* Vorher 1.5rem */
  }

  .mb-20 {
    margin-bottom: 1.5rem !important; /* Vorher 2rem */
  }
}

/* ====================================
   9. BILDER & MEDIA
   ==================================== */

@media (max-width: 768px) {
  /* Alle Bilder responsive */
  img {
    max-width: 100% !important;
    height: auto !important;
  }

  /* Hover-Effekte auf Touch deaktivieren */
  @media (hover: none) {
    *:hover {
      transform: none !important;
    }
  }
}

/* ====================================
   10. ACCESSIBILITY - Reduced Motion
   ==================================== */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ====================================
   11. ZUSÄTZLICHE FIXES
   ==================================== */

@media (max-width: 768px) {
  /* Particles weniger intensiv auf Mobile */
  .particles {
    opacity: 0.5;
  }

  /* Scrollbar verstecken auf Mobile */
  body::-webkit-scrollbar {
    display: none;
  }

  body {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* Touch-Optimierung */
  button,
  a {
    -webkit-tap-highlight-color: transparent;
  }
}

@keyframes fade-in-down {
  from {
    opacity: 0;
    transform: translateY(-50px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(600px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fade-in-left {
  from {
    opacity: 0;
    transform: translateX(-600px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes fade-in-right {
  from {
    opacity: 0;
    transform: translateX(600px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes float {
  0%, 100% {
    background-position: 0% 0%;
  }
  50% {
    background-position: 100% 100%;
  }
}

.particles {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
  background-image: 
    radial-gradient(3px 3px at 20% 30%, white, transparent),
    radial-gradient(3px 3px at 60% 70%, white, transparent),
    radial-gradient(2px 2px at 50% 50%, white, transparent),
    radial-gradient(2px 2px at 80% 10%, white, transparent),
    radial-gradient(3px 3px at 90% 60%, white, transparent),
    radial-gradient(2px 2px at 33% 80%, white, transparent);
  background-size: 200% 200%;
  background-position: 0% 0%;
  animation: float 20s ease-in-out infinite;
}

.animate-fade-in-left {
  animation: fade-in-left 1.5s ease-out;
}

.animate-fade-in-right {
  animation: fade-in-right 1.5s ease-out;
}

.animate-fade-in-down {
  animation: fade-in-down 1.5s ease-out;
}

.animate-fade-in-up {
  animation: fade-in-up 1.5s ease-out;
}
  :root {
    --accent: 139, 92, 246;       /* violet-500 */
    --accent-light: 221, 214, 254; /* violet-200 */
    --accent-dark: 91, 50, 181;    /* deep violet */
    --accent-gradient: linear-gradient(
      45deg,
      rgb(var(--accent)),
      rgb(var(--accent-light)) 30%,
      white 60%
    );
    color-scheme: light dark;
  }


	html {
		font-family: "Onest Variable", system-ui, sans-serif;
		scroll-behavior: smooth;
	}

	@media (prefers-reduced-motion: reduce) {
		html {
			scroll-behavior: auto;
		}
	}
</style>

<!-- radial-gradient(5px 5px at 20% 30%, white, transparent),
    radial-gradient(5px 5px at 60% 70%, white, transparent),
    radial-gradient(4px 4px at 50% 50%, white, transparent),
    radial-gradient(4px 4px at 80% 10%, white, transparent),
    radial-gradient(5px 5px at 90% 60%, white, transparent),
    radial-gradient(4px 4px at 33% 80%, white, transparent); -->
